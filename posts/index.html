<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | tomregan.github.io</title>
<meta name=keywords content><meta name=description content="Posts - tomregan.github.io"><meta name=author content><link rel=canonical href=https://tomregan.github.io/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.2d57c2ec5c1393c947086a457dd198f941b9476b45ce2a2405529f16729999ae.css integrity="sha256-LVfC7FwTk8lHCGpFfdGY+UG5R2tFziokBVKfFnKZma4=" rel="preload stylesheet" as=style><link rel=icon href=https://tomregan.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tomregan.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tomregan.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tomregan.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tomregan.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://tomregan.github.io/posts/index.xml><link rel=alternate hreflang=en href=https://tomregan.github.io/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://tomregan.github.io/posts/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tomregan.github.io/posts/"}]}</script></head><body class=list id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tomregan.github.io/ accesskey=h title="tomregan.github.io (Alt + H)">tomregan.github.io</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://tomregan.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://tomregan.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://tomregan.github.io/>Home</a></div><h1>Posts</h1></header><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://tomregan.github.io/posts/2025-04-04-comparison-method-violates-its-general-contract/cover.jpg alt></figure><header class=entry-header><h2>Comparison method violates its general contract!</h2></header><div class=entry-content><p>ComparatorVerifier is a library for verifying Comparators. Check it out!
Java’s standard sorting algorithm, TimSort, is a clever hybrid algorithm that uses a deceptively simple insight about the typical pattern of elements in arrays. Unfortunately the insight is couched deep in mathematical obscurity:
Entropy considerations provide a natural estimate of the number of comparisons to sort incompletely shuffled data. From an information theoretic viewpoint, the number of comparisons needed to sort a permutation is an upper bound on the Kolmogorov complexity of the permutation....</p></div><footer class=entry-footer><span title='2025-04-04 00:00:00 +0000 UTC'>4 April 2025</span>&nbsp;·&nbsp;2243 words</footer><a class=entry-link aria-label="post link to Comparison method violates its general contract!" href=https://tomregan.github.io/posts/2025-04-04-comparison-method-violates-its-general-contract/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://tomregan.github.io/posts/2024-05-30-using-jackson-deduction-to-simplify-deserialisation/cover.jpeg alt></figure><header class=entry-header><h2>Using Jackson Deduction to Simplify Deserialisation</h2></header><div class=entry-content><p>I find the documentation for Jackson is on the terse side, and dare I say obstructively self-referential. If you aren’t moved fully to tears by the Javadoc entries for JsonTypeInfo.As, you deserve an ACM award.
In short: I need a helpful and up-to-date guide, so I’m writing one.
What are we trying to do? We often want to vary the content of our JSON. It’s integral to the Envelope pattern for instance....</p></div><footer class=entry-footer><span title='2024-05-30 00:00:00 +0000 UTC'>30 May 2024</span>&nbsp;·&nbsp;465 words</footer><a class=entry-link aria-label="post link to Using Jackson Deduction to Simplify Deserialisation" href=https://tomregan.github.io/posts/2024-05-30-using-jackson-deduction-to-simplify-deserialisation/using-jackson-deduction-to-simplify-deserialisation/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://hips.hearstapps.com/hmg-prod/images/construction-toys-1672760698.jpg alt="A child playing in sand with a digger"></figure><header class=entry-header><h2>Quick, Repeatable, Maintainable Maven Builds</h2></header><div class=entry-content><p>There are few things more frustrating than running into issues with your build tool. One moment your build runs smoothly, and the next it fails inexplicably. Or maybe you’ve been typing mvn clean package for years without really knowing why. In this post, I’ll share some best practices for using Maven more effectively, and attempt to demystify some of its features.
Understand the Clean Plugin Running the Clean plugin during every build will spend unnecessary time on recompilation and packaging....</p></div><footer class=entry-footer><span title='2023-04-25 00:00:00 +0000 UTC'>25 April 2023</span>&nbsp;·&nbsp;667 words</footer><a class=entry-link aria-label="post link to Quick, Repeatable, Maintainable Maven Builds" href=https://tomregan.github.io/posts/2023-04-25-quick-repeatable-maintainable-maven-builds/maven-build-tips/></a></article><article class=post-entry><header class=entry-header><h2>Making Pull Requests</h2></header><div class=entry-content><p>Excited much? Yes I am. I have wanted to contribute to an open source project for a really, really long time. I am unreasonably psyched about the whole experience right now.
Trigger warning: I am going to be unironically enthusiastic. Sorry.
Here is how I did the do It was unbelievably easy. I noticed in the github news stream that one of my friends had starred a project, and it looked kind of cool....</p></div><footer class=entry-footer><span title='2014-05-24 00:00:00 +0000 UTC'>24 May 2014</span>&nbsp;·&nbsp;772 words</footer><a class=entry-link aria-label="post link to Making Pull Requests" href=https://tomregan.github.io/posts/making-pull-requests/></a></article><article class=post-entry><header class=entry-header><h2>Loading a DTD from a JAR</h2></header><div class=entry-content><p>Bundling resources into a jar file is a common way to deploy your Java application, useful because it makes the jar’s resources available to retrieve via the classloader at runtime.
When loading XML, you can require DTD veirification, which is a means of validating the XML is gramatical. Hopefully everything up till now is old news.
I struggled trying to load XML from the classpath to also have the DTD load correctly....</p></div><footer class=entry-footer><span title='2013-12-02 00:00:00 +0000 UTC'>2 December 2013</span>&nbsp;·&nbsp;238 words</footer><a class=entry-link aria-label="post link to Loading a DTD from a JAR" href=https://tomregan.github.io/posts/loading-a-dtd-from-a-jar/></a></article><article class=post-entry><header class=entry-header><h2>Writing Libraries in Bash</h2></header><div class=entry-content><p>If you’re a Python programmer, chances are you’re familiar with the idiom:
if __name__ == '__main__': main() This lets you put behaviour in a file that will only be executed if it’s run from the command line, not when it’s included in a program.
So it’s possible to achieve the same thing in bash, simply using:
[[ $0 != -${SHELL##*/} ]] && main Could that be clearer? Probably. Here’s what it means from left to right:...</p></div><footer class=entry-footer><span title='2013-11-19 00:00:00 +0000 UTC'>19 November 2013</span>&nbsp;·&nbsp;399 words</footer><a class=entry-link aria-label="post link to Writing Libraries in Bash" href=https://tomregan.github.io/posts/writing-libraries-in-bash/></a></article><article class=post-entry><header class=entry-header><h2>Getting OCMock to play nicely with XCode 5</h2></header><div class=entry-content><p>I’ve started writing a dashboard Cocoa app, and I’ve found the process of setting up OCMock really unreasonably painful.
The Setup I got the OCMock framework from ocmock.org.
In my case I want the OSX directory for my Cocoa app, so I drag and drop OCMock.framework from the dmg onto the Frameworks group in the project navigator. This triggers a dialog to configure it.
The important things to note are:...</p></div><footer class=entry-footer><span title='2013-11-17 00:00:00 +0000 UTC'>17 November 2013</span>&nbsp;·&nbsp;251 words</footer><a class=entry-link aria-label="post link to Getting OCMock to play nicely with XCode 5" href=https://tomregan.github.io/posts/getting-ocmock-to-play-nicely-with-xcode-5/></a></article><article class=post-entry><header class=entry-header><h2>Switching Text Editors</h2></header><div class=entry-content><p>After 7 years, I’m finally doing the dirty dead: jumping off the Vim ship, into the [adjective], [adjective] something [noun] that is emacs. There follows a brief description of the process so far.
![Gnu by Dean Gugler at flickr CC BY-NC] (https://farm7.staticflickr.com/6173/6169267550_753ebd220b.jpg)
Gnu by Dean Gugler at flickr (CC BY-NC) Install a recent version of emacs My version of OS X has emacs 22.2 installed, which is way out of date....</p></div><footer class=entry-footer><span title='2013-09-08 00:00:00 +0000 UTC'>8 September 2013</span>&nbsp;·&nbsp;454 words</footer><a class=entry-link aria-label="post link to Switching Text Editors" href=https://tomregan.github.io/posts/switching-text-editors/></a></article><article class=post-entry><header class=entry-header><h2>Using Mockito as a Crutch</h2></header><div class=entry-content><p>“omne trium perfectum”, as the Latins used to say: a set of three is perfect. Sadly I don’t have three facts I know about mockito, but I do have two facts. That’s not enough to impress anyone, which means almost by definition, it’s enough for a blog.
Returning different values from a mock on successive calls This is so basic, I expect I’m the last person to hear about it. I stumbled on it while trying to mock an Enumeration....</p></div><footer class=entry-footer><span title='2013-08-28 00:00:00 +0000 UTC'>28 August 2013</span>&nbsp;·&nbsp;400 words</footer><a class=entry-link aria-label="post link to Using Mockito as a Crutch" href=https://tomregan.github.io/posts/using-mockito-as-a-crutch/></a></article><article class=post-entry><header class=entry-header><h2>Hanging Out with Linked Hash Maps</h2></header><div class=entry-content><p>LinkedHashMap is a surprising useful data structure, and missing from many standard libraries.
In my case I have class that represents a message and contains a set of headers. Imagining an HTTP message might be useful. Historically these sets have been mapped using a configuration file that dictates the order of field keys and values (primarily it’s done this way to support ordered value-only fields):
0 key 1 1 value 1 2 key 2 ....</p></div><footer class=entry-footer><span title='2013-08-18 00:00:00 +0000 UTC'>18 August 2013</span>&nbsp;·&nbsp;219 words</footer><a class=entry-link aria-label="post link to Hanging Out with Linked Hash Maps" href=https://tomregan.github.io/posts/hanging-out-with-linked-hash-map/></a></article><article class=post-entry><header class=entry-header><h2>Chopping Down Tall Classes</h2></header><div class=entry-content><p>I’ve been having bags of fun today trying to get to grips with an enormously busy class. The carbuncle of code is basically a data structure that contains a tree of values loaded from a plain-text configuration file. To keep it from being too simple and boring, somebody decided you should be able to pass it an instance of our application, and have it call lots of configuration methods on it for you....</p></div><footer class=entry-footer><span title='2013-08-12 00:00:00 +0000 UTC'>12 August 2013</span>&nbsp;·&nbsp;331 words</footer><a class=entry-link aria-label="post link to Chopping Down Tall Classes" href=https://tomregan.github.io/posts/chopping-down-tall-classes/></a></article><article class=post-entry><header class=entry-header><h2>Pressing Buttons in Bash</h2></header><div class=entry-content><p>Shortcuts are a source of constant amusement as far as I’m concerned, and nothing on Earth makes me more ecstatically happy than accidentally discovering a new one. Today’s mis-fingering was ^t in bash, which roughly translated means transpose the character under the cursor and the previous character.
Two transposed characters is by far my commonest typo (vim: xp), so I’m not going to lie, I’m pretty happy. To celebrate I’m going to try and use bash this week by only touching letter keys, Ctrl, Alt and Shift....</p></div><footer class=entry-footer><span title='2013-05-12 00:00:00 +0000 UTC'>12 May 2013</span>&nbsp;·&nbsp;162 words</footer><a class=entry-link aria-label="post link to Pressing Buttons in Bash" href=https://tomregan.github.io/posts/pressing-buttons-in-bash/></a></article><article class=post-entry><header class=entry-header><h2>Writing a Simple Gradle Build</h2></header><div class=entry-content><p>‘Build as code’ is one of those dreadful smells you start to recognise after a while, so gradle, which is a highly free-form system, is not my first choice for complex builds, but it is a beautiful way to build a simple set of modules. I’ve written something along the lines of the following build enough times for me to make a note of it for future copy-pasting, so here it is....</p></div><footer class=entry-footer><span title='2013-05-05 00:00:00 +0000 UTC'>5 May 2013</span>&nbsp;·&nbsp;217 words</footer><a class=entry-link aria-label="post link to Writing a Simple Gradle Build" href=https://tomregan.github.io/posts/writing-a-simple-gradle-build/></a></article><article class=post-entry><header class=entry-header><h2>Deleting Files from Git Object Store</h2></header><div class=entry-content><p>Tonight I accidentally did something stupid and committed binaries to my git repository, despite knowing better in the first place. After the commit I tried to push.
I hadn’t even noticed my mistake until I came back to my terminal after 10 minutes and saw
Writing objects: 42% (16/38), 10.02 MiB | 21 KiB/s Unfortunately simply git rm-ing the files is no good, because they’re in the object store at this point, which is essentially git’s historical record— its database of versions....</p></div><footer class=entry-footer><span title='2013-04-17 00:00:00 +0000 UTC'>17 April 2013</span>&nbsp;·&nbsp;166 words</footer><a class=entry-link aria-label="post link to Deleting Files from Git Object Store" href=https://tomregan.github.io/posts/deleting-files-from-git-object-store/></a></article><article class=post-entry><header class=entry-header><h2>Defusing XML</h2></header><div class=entry-content><p>XML: the most terrifying thing on the planet
Rule 1 of the Internet— is never, ever trust the Internet. Reading from a socket is the equivalent of putting your hand into an unknown box that’s full of snakes, but you don’t know it’s full of snakes and it ends up pretty touch-and-go as to whether you get out in one piece.
Getting XML over the wire is like that, but more terrifying and more dangerous....</p></div><footer class=entry-footer><span title='2013-04-15 00:00:00 +0000 UTC'>15 April 2013</span>&nbsp;·&nbsp;336 words</footer><a class=entry-link aria-label="post link to Defusing XML" href=https://tomregan.github.io/posts/defusing-xml/></a></article><article class=post-entry><header class=entry-header><h2>Blogging with Pelican</h2></header><div class=entry-content><p>All bloggers tend to pass through three phases: enthusiasm, occasional updates, and blogging about blogging…
I got a little bit tired of the magic behind Octopress and decided to move to the ‘better for Me(tm)’ platform Pelican. Pelican has been lovely and although Octopress was a great way to get started, I’m not blessed with a great deal of web-dev-ishness, I was never going to take the time to understand its many bundled frameworks....</p></div><footer class=entry-footer><span title='2013-04-13 00:00:00 +0000 UTC'>13 April 2013</span>&nbsp;·&nbsp;156 words</footer><a class=entry-link aria-label="post link to Blogging with Pelican" href=https://tomregan.github.io/posts/blogging-with-pelican/></a></article><article class=post-entry><header class=entry-header><h2>Bringing Eclipse Shortcuts to XCode</h2></header><div class=entry-content><p>When I first arrived in the real world, I was introduced to new things; amongst these were ‘collaboration’ and ‘gigantic code bases’. I grudgingly accepted the need for an IDE, and started to use Eclipse. There are actions I use in Eclipse regularly that I find really useful, like searching and manipulating text.
Recently doing some Cocoa development and getting started with XCode, I’ve been slowed down by having to learn these same actions again, using different, and sometimes hand-contorting, Emacsian keys....</p></div><footer class=entry-footer><span title='2013-01-12 00:00:00 +0000 UTC'>12 January 2013</span>&nbsp;·&nbsp;194 words</footer><a class=entry-link aria-label="post link to Bringing Eclipse Shortcuts to XCode" href=https://tomregan.github.io/posts/bringing-eclipse-shortcuts-to-xcode/></a></article><article class=post-entry><header class=entry-header><h2>Disable Cache in Chrome and Other Goodies</h2></header><div class=entry-content><p>Through some lucky keyboard-mashing I stumbled across a couple of useful developer features in Google Chrome, including an option to disable the cache, and settings for device testing. Here’s how to:
Bring up the inspector: ⌥ ⌘ i Hit fn F1 Voilà!
The general tab with cache options:
The overrides tab with device options:
I’ve popped some easter eggs in this post to amuse future-me.</p></div><footer class=entry-footer><span title='2013-01-06 00:00:00 +0000 UTC'>6 January 2013</span>&nbsp;·&nbsp;65 words</footer><a class=entry-link aria-label="post link to Disable Cache in Chrome and Other Goodies" href=https://tomregan.github.io/posts/disable-cache-in-chrome-and-other-goodies/></a></article><article class=post-entry><header class=entry-header><h2>Code Shame</h2></header><div class=entry-content><p>Naturally when I write C I’m reasonably careful about a number of things. Because at runtime it’s a free-for-all, I take care to notice buffer overruns, uninitialized memory, and in particular the possible values assigned to a pointer.
I’ll back up a second, because unfortunately I recently managed to make a bit of a bollocks of the last point, which I only noticed when I came back to change the code....</p></div><footer class=entry-footer><span title='2013-01-03 00:00:00 +0000 UTC'>3 January 2013</span>&nbsp;·&nbsp;289 words</footer><a class=entry-link aria-label="post link to Code Shame" href=https://tomregan.github.io/posts/code-shame/></a></article><article class=post-entry><header class=entry-header><h2>Disabling the Next Button in an Eclipse Wizard</h2></header><div class=entry-content><p>I’ve been writing an Eclipse wizard that will be used to create new socket applications. The options selected in early in the wizard determine whether it’s appropriate for the user to configure connection properties before creating the project.
If you have written a wizard, chances are you’re familiar with the setPageComplete(complete:boolean) method that is used to enable the ‘Finish’ button when enough user input has been gathered.
It’s more complicated to disable the ‘Next’ button....</p></div><footer class=entry-footer><span title='2012-12-09 00:00:00 +0000 UTC'>9 December 2012</span>&nbsp;·&nbsp;209 words</footer><a class=entry-link aria-label="post link to Disabling the Next Button in an Eclipse Wizard" href=https://tomregan.github.io/posts/disabling-the-next-button-in-an-eclipse-wizard/></a></article><article class=post-entry><header class=entry-header><h2>Lazy Instantiation in Objective C</h2></header><div class=entry-content><p>Lazy instantiation is a relatively cheap way of allocating memory to component objects as it’s required instead of up-front in a constructor.
{% highlight objectivec %} @interface MyStack() @property (nonatomic, strong) NSMutableArray *stack; @end
@implementation MyStack
@synthesize stack = _stack;
(NSMutableArray*)stack { if (_stack == nil) { _stack = [[NSMutableArray alloc] init]; } return _stack; } (void)push:(double)operand { [self.stack addObject: [NSNumber numberWithDouble:operand]]; } @end {% endhighlight %} This implementation overrides the synthesized accessor and adds an alloc-init call if the storage hasn’t yet been initialized....</p></div><footer class=entry-footer><span title='2012-12-09 00:00:00 +0000 UTC'>9 December 2012</span>&nbsp;·&nbsp;113 words</footer><a class=entry-link aria-label="post link to Lazy Instantiation in Objective C" href=https://tomregan.github.io/posts/lazy-instantiation-in-objective-c/></a></article><article class=post-entry><header class=entry-header><h2>Unit Testing in C with Check</h2></header><div class=entry-content><p>###Pushy I’ve been developing a cheerfully indolent little HTTP server for some time now, as one of those ’learn-more-c’, ’learn-TDD’ projects that I imagine nearly everyone has lying around, half neglected.
You can see the code for pushy on github.
I’ve also been familiarizing myself with the HTTP RFCs as I go, so I was planning to add a 414 response^[1] to pushy’s repertoire, which I reckoned would take me about 30 minutes, but I have the TDD policy on this project, so naturally I can’t write a line of code until there’s a failing test....</p></div><footer class=entry-footer><span title='2012-12-09 00:00:00 +0000 UTC'>9 December 2012</span>&nbsp;·&nbsp;994 words</footer><a class=entry-link aria-label="post link to Unit Testing in C with Check" href=https://tomregan.github.io/posts/unit-testing-in-c-with-check/></a></article><article class=post-entry><header class=entry-header><h2>Deploying an XML File with Maven</h2></header><div class=entry-content><p>Something clever we’ve started doing at work is publishing common build files to our local maven repository, so builds can depend on known versions of scripts, rather than just the latest from source control.
Setting this up for the simplest case, involves uploading a single file, for instance an ant script, to the repository. The best way I’ve seen this done uses the build-helper plugin, which — amongst many other things — can be used to deploy any file as the primary build artifact....</p></div><footer class=entry-footer><span title='2012-11-06 00:00:00 +0000 UTC'>6 November 2012</span>&nbsp;·&nbsp;141 words</footer><a class=entry-link aria-label="post link to Deploying an XML File with Maven" href=https://tomregan.github.io/posts/deploying-an-xml-file-with-maven/></a></article><article class=post-entry><header class=entry-header><h2>Fixing a Permissions Error Opening a Semaphore</h2></header><div class=entry-content><p>Today I spent a couple of hours getting semaphores to work.
I was opening a semaphore like this:
{% highlight c %} if (SEM_FAILED == (CACHE_LOCK = sem_open("/cache_lock", O_CREAT, 0660, 1))) { printf(“error opening semphore: %i\n”, errno); return -1; /* error creating semaphore */ } {% endhighlight %}
This runs fine on my Mac, but fails on an Ubuntu machine. On failure it sets errno to EACCESS (13). Whatever you might expect, this fact alone did not allow me to figure out the cause of the problem....</p></div><footer class=entry-footer><span title='2012-10-06 00:00:00 +0000 UTC'>6 October 2012</span>&nbsp;·&nbsp;155 words</footer><a class=entry-link aria-label="post link to Fixing a Permissions Error Opening a Semaphore" href=https://tomregan.github.io/posts/fixing-a-permissions-error-opening-a-semaphore/></a></article><article class=post-entry><header class=entry-header><h2>Reading from Sockets</h2></header><div class=entry-content><p>This is a story about how I learned to read streams from sockets, or to put it another way:
{% highlight diff %}
strncpy(msg_buf, “HTTP/1.0 404 Not Found\r\n”, HTTP_RESPONSE_LEN); strncpy(msg_buf, “HTTP/1.1 404 Not Found\r\n”, HTTP_RESPONSE_LEN); {% endhighlight %} How I learned to stop worrying and begin to implement HTTP/1.1.
That’s pushy. All it knows is it doesn’t know.
HTTP/1.0 For most of the practical work I’ve done with sockets until now I’ve used datagrams, so I decided that all socket reads, including streaming connections, work in the same way as HTTP/1....</p></div><footer class=entry-footer><span title='2012-09-22 00:00:00 +0000 UTC'>22 September 2012</span>&nbsp;·&nbsp;534 words</footer><a class=entry-link aria-label="post link to Reading from Sockets" href=https://tomregan.github.io/posts/reading-from-sockets/></a></article><article class=post-entry><header class=entry-header><h2>Saving the Workspace from an Eclipse Plugin</h2></header><div class=entry-content><p>Since I’m going to the trouble of making a plugin for Eclipse, I thought I may as well try and make if look and feel a bit Eclipsy, so when it came to writing an export feature to bundle the user’s project, I decided it would be a jolly good thing if the user got a dialog to prompt them to save their changes, much as when you run an application in Eclipse....</p></div><footer class=entry-footer><span title='2012-09-17 00:00:00 +0000 UTC'>17 September 2012</span>&nbsp;·&nbsp;382 words</footer><a class=entry-link aria-label="post link to Saving the Workspace from an Eclipse Plugin" href=https://tomregan.github.io/posts/saving-the-workspace-from-an-eclipse-plugin/></a></article><article class=post-entry><header class=entry-header><h2>Fixing Git Upload Pack Not Found</h2></header><div class=entry-content><p>I’ve only just realised that blogging about problems is a great way of delaying doing the thing I intended to get done in the first place.
I’ve just changed the location of git repositories on my server so that instead of living in a directory belonging to the user ’tom’, they now live in the home directory belonging to ‘git’.
Basically, it means when I create a new repository on my server I don’t have to remember:...</p></div><footer class=entry-footer><span title='2012-09-08 00:00:00 +0000 UTC'>8 September 2012</span>&nbsp;·&nbsp;270 words</footer><a class=entry-link aria-label="post link to Fixing Git Upload Pack Not Found" href=https://tomregan.github.io/posts/fixing-git-upload-pack-not-found/></a></article><article class=post-entry><header class=entry-header><h2>Monitor a Long Running Process with Control T</h2></header><div class=entry-content><p>One of the nice things about being in Linux exile is learning about new things that I hadn’t noticed were missing from my life, like being able to tell if a process has hung, or it’s just taking a really long time.
tom@binky:~:$ cp Downloads/FreeBSD-9.0-RELEASE-i386-disc1.iso . ... ^t ... load: 0.17 cmd: cp 20253 running 0.00u 0.16s Downloads/FreeBSD-9.0-RELEASE-i386-disc1.iso -> ./FreeBSD-9.0-RELEASE-i386-disc1.iso 35% Hitting Control-t while waiting for a process to complete outputs, and ‘scuse me while I quote from the manpage:...</p></div><footer class=entry-footer><span title='2012-09-07 00:00:00 +0000 UTC'>7 September 2012</span>&nbsp;·&nbsp;144 words</footer><a class=entry-link aria-label="post link to Monitor a Long Running Process with Control T" href=https://tomregan.github.io/posts/monitor-a-long-running-process-with-control-t/></a></article><article class=post-entry><header class=entry-header><h2>Building an Eclipse Plugin with Tycho</h2></header><div class=entry-content><p>I spent a couple of days this week converting the build of an Eclipse plugin project from Ant with Ivy to Maven using the Tycho plugins. I’ll demonstrate the build with an example project.
First off I already have the following pre-requisites:
Eclipse 4.2 Eclipse PDE Maven 3 Create a plugin project in Eclipse I created the following:
a plugin, with some simple functionality a feature project (features are just groupings of related plugins) an update site, which acts as a distributable package Each project is a necessary part of the build: the site contains a feature, and the feature contains one or more plugins....</p></div><footer class=entry-footer><span title='2012-09-02 00:00:00 +0000 UTC'>2 September 2012</span>&nbsp;·&nbsp;607 words</footer><a class=entry-link aria-label="post link to Building an Eclipse Plugin with Tycho" href=https://tomregan.github.io/posts/building-an-eclipse-plugin-with-tycho/></a></article><article class=post-entry><header class=entry-header><h2>Unit Testing in C with Check - Setting Up a Project</h2></header><div class=entry-content><p>In a previous post I went through the steps to run the Check tutorial, had a bit of a whinge about how difficult is had all been, and mumbled a bit about coming back when I’d figured out how to make everything work on a real project. In fact, that was much simpler than I expected.
At the end of this, I’ll have a simple C program with a corresponding build that uses the Check testing framework....</p></div><footer class=entry-footer><span title='2012-08-27 00:00:00 +0000 UTC'>27 August 2012</span>&nbsp;·&nbsp;913 words</footer><a class=entry-link aria-label="post link to Unit Testing in C with Check - Setting Up a Project" href=https://tomregan.github.io/posts/unit-testing-in-c-with-check-setting-up-a-project/></a></article><article class=post-entry><header class=entry-header><h2>To Sudo or not to Sudo</h2></header><div class=entry-content><p>This is a pretty neat trick I’ve just seen in a tutorial from the chaps at opscode.
I’ve got a command whose output needs to be processed using sudo (a realistic example is curling down a file to install); I’ve got at least three principals that apply in this situation:
only use sudo if privileges need to be escalated waste not a minute one line all of the things So:...</p></div><footer class=entry-footer><span title='2012-08-25 00:00:00 +0000 UTC'>25 August 2012</span>&nbsp;·&nbsp;122 words</footer><a class=entry-link aria-label="post link to To Sudo or not to Sudo" href=https://tomregan.github.io/posts/to-sudo-or-not-to-sudo/></a></article><article class=post-entry><header class=entry-header><h2>Unpacking Maven Dependencies</h2></header><div class=entry-content><p>Unpacking a kit for inclusion in a Java library The first time I came to do this I was new to maven and I didn’t know about the maven-dependency-plugin, so I had a hard time keeping a handle on the downloaded kit. Well, I’m back, and this time I mean business.
I’ve listed the plugins I used in something like sequential order:
maven-dependency-plugin The maven-dependency-plugin is used to download a kit which contains a bunch of templates used in my artifact (which happens to be a Java library)....</p></div><footer class=entry-footer><span title='2012-08-07 00:00:00 +0000 UTC'>7 August 2012</span>&nbsp;·&nbsp;278 words</footer><a class=entry-link aria-label="post link to Unpacking Maven Dependencies" href=https://tomregan.github.io/posts/unpacking-maven-dependencies/></a></article><article class=post-entry><header class=entry-header><h2>Using JVM Shutdown Hooks to Kill a Child Process</h2></header><div class=entry-content><p>Today I spent some time writing a runner for a command-line Java socket application. I’d assumed that it would be easy enough to quit the process by hitting ^C. I’m here to report that this is not the case.
Hitting ^C shuts down the JVM, so if you’ve forked a separate Java process it’ll become orphaned.
To get past this you have to implement a shutdown hook, which will run during the JVM shutdown sequence, in effect allowing your application to handle the signal....</p></div><footer class=entry-footer><span title='2012-08-06 00:00:00 +0000 UTC'>6 August 2012</span>&nbsp;·&nbsp;155 words</footer><a class=entry-link aria-label="post link to Using JVM Shutdown Hooks to Kill a Child Process" href=https://tomregan.github.io/posts/using-jvm-shutdown-hooks-to-kill-a-child-process/></a></article><article class=post-entry><header class=entry-header><h2>Modular Projects with Bash</h2></header><div class=entry-content><p>I try to use bash scripts wherever I can over ruby or python. Partly that’s down to stubbornness, but it’s mostly because the problems I’m trying to solve can be tackled with the tools already available in UNIX.
One of my past sprawling bash projects was a tool that I used for simple, repetitive tasks, like creating new source files from templates, creating working tree structures for projects, running unit tests, and so on....</p></div><footer class=entry-footer><span title='2012-07-19 00:00:00 +0000 UTC'>19 July 2012</span>&nbsp;·&nbsp;549 words</footer><a class=entry-link aria-label="post link to Modular Projects with Bash" href=https://tomregan.github.io/posts/modular-projects-with-bash/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://tomregan.github.io/>tomregan.github.io</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script></body></html>