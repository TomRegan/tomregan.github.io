<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Getting OCMock to play nicely with XCode 5 | tomregan.github.io</title>
<meta name=keywords content><meta name=description content="I&rsquo;ve started writing a dashboard Cocoa app, and I&rsquo;ve found the process of setting up OCMock really unreasonably painful.
The Setup I got the OCMock framework from ocmock.org.
In my case I want the OSX directory for my Cocoa app, so I drag and drop OCMock.framework from the dmg onto the Frameworks group in the project navigator. This triggers a dialog to configure it.
The important things to note are:"><meta name=author content><link rel=canonical href=https://tomregan.github.io/posts/getting-ocmock-to-play-nicely-with-xcode-5/><link crossorigin=anonymous href=/assets/css/stylesheet.2d57c2ec5c1393c947086a457dd198f941b9476b45ce2a2405529f16729999ae.css integrity="sha256-LVfC7FwTk8lHCGpFfdGY+UG5R2tFziokBVKfFnKZma4=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://tomregan.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tomregan.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tomregan.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tomregan.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tomregan.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://tomregan.github.io/posts/getting-ocmock-to-play-nicely-with-xcode-5/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Getting OCMock to play nicely with XCode 5"><meta property="og:description" content="I&rsquo;ve started writing a dashboard Cocoa app, and I&rsquo;ve found the process of setting up OCMock really unreasonably painful.
The Setup I got the OCMock framework from ocmock.org.
In my case I want the OSX directory for my Cocoa app, so I drag and drop OCMock.framework from the dmg onto the Frameworks group in the project navigator. This triggers a dialog to configure it.
The important things to note are:"><meta property="og:type" content="article"><meta property="og:url" content="https://tomregan.github.io/posts/getting-ocmock-to-play-nicely-with-xcode-5/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-11-17T00:00:00+00:00"><meta property="article:modified_time" content="2013-11-17T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Getting OCMock to play nicely with XCode 5"><meta name=twitter:description content="I&rsquo;ve started writing a dashboard Cocoa app, and I&rsquo;ve found the process of setting up OCMock really unreasonably painful.
The Setup I got the OCMock framework from ocmock.org.
In my case I want the OSX directory for my Cocoa app, so I drag and drop OCMock.framework from the dmg onto the Frameworks group in the project navigator. This triggers a dialog to configure it.
The important things to note are:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tomregan.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Getting OCMock to play nicely with XCode 5","item":"https://tomregan.github.io/posts/getting-ocmock-to-play-nicely-with-xcode-5/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Getting OCMock to play nicely with XCode 5","name":"Getting OCMock to play nicely with XCode 5","description":"I\u0026rsquo;ve started writing a dashboard Cocoa app, and I\u0026rsquo;ve found the process of setting up OCMock really unreasonably painful.\nThe Setup I got the OCMock framework from ocmock.org.\nIn my case I want the OSX directory for my Cocoa app, so I drag and drop OCMock.framework from the dmg onto the Frameworks group in the project navigator. This triggers a dialog to configure it.\nThe important things to note are:","keywords":[],"articleBody":"I’ve started writing a dashboard Cocoa app, and I’ve found the process of setting up OCMock really unreasonably painful.\nThe Setup I got the OCMock framework from ocmock.org.\nIn my case I want the OSX directory for my Cocoa app, so I drag and drop OCMock.framework from the dmg onto the Frameworks group in the project navigator. This triggers a dialog to configure it.\nThe important things to note are:\nCopy items into destination group’s folder (if needed) is checked Create groups for any added folders doesn’t change Add to targets has the test target selected, and not the application I’m now able to use OCMock in my tests.\nRunning the Tests I get an unexpected surprise trying to run the tests however, in the form of a no suitable image found error. The non-obvious solution to this is to add a new build phase to the test target which will copy the OCMock library into the runtime bundle.\nNext select the framework to add to the new phase.\nThe target should look like this:\nAgain, the important points are:\nDestination is Products Directory Subpath is empty Copy only when installing is not checked Finally, I moved the new phase run directly after compile. Running the tests now works.\nWhat I Have Learned I can use the XCode build system now! (It’s more horrible than I imagined.) The build system for XCode 5 is still broken There’s an interesting tool called cocoapods which looks interesting, but I couldn’t make it work ","wordCount":"251","inLanguage":"en","datePublished":"2013-11-17T00:00:00Z","dateModified":"2013-11-17T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://tomregan.github.io/posts/getting-ocmock-to-play-nicely-with-xcode-5/"},"publisher":{"@type":"Organization","name":"tomregan.github.io","logo":{"@type":"ImageObject","url":"https://tomregan.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tomregan.github.io/ accesskey=h title="tomregan.github.io (Alt + H)">tomregan.github.io</a><div class=logo-switches><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://tomregan.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://tomregan.github.io/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://tomregan.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://tomregan.github.io/posts/>Posts</a></div><h1 class=post-title>Getting OCMock to play nicely with XCode 5</h1><div class=post-meta>&lt;span title='2013-11-17 00:00:00 +0000 UTC'>November 17, 2013&lt;/span>&amp;nbsp;·&amp;nbsp;2 min&amp;nbsp;·&amp;nbsp;251 words</div></header><div class=post-content><p>I&rsquo;ve started writing a dashboard Cocoa app, and I&rsquo;ve found the process of
setting up OCMock really unreasonably painful.</p><h3 id=the-setup>The Setup<a hidden class=anchor aria-hidden=true href=#the-setup>#</a></h3><p>I got the OCMock framework from <a href=http://ocmock.org/download/>ocmock.org</a>.</p><p>In my case I want the OSX directory for my Cocoa app, so I drag and drop
<code>OCMock.framework</code> from the <code>dmg</code> onto the Frameworks group in the project
navigator. This triggers a dialog to configure it.</p><p><img loading=lazy src=/assets/images/2013-11-17-Getting-OCMock-to-play-nicely-with-XCode-5/copying.png alt="Copying the framework"></p><p>The important things to note are:</p><ul><li><em>Copy items into destination group&rsquo;s folder (if needed)</em> is checked</li><li><em>Create groups for any added folders</em> doesn&rsquo;t change</li><li><em>Add to targets</em> has the test target selected, and not the application</li></ul><p>I&rsquo;m now able to use OCMock in my tests.</p><p><img loading=lazy src=/assets/images/2013-11-17-Getting-OCMock-to-play-nicely-with-XCode-5/importing.png alt="Importing OCMock"></p><h3 id=running-the-tests>Running the Tests<a hidden class=anchor aria-hidden=true href=#running-the-tests>#</a></h3><p>I get an unexpected surprise trying to run the tests however, in the form
of a <code>no suitable image found</code> error. The non-obvious solution to this is to
add a new build phase to the test target which will copy the OCMock library
into the runtime bundle.</p><p><img loading=lazy src=/assets/images/2013-11-17-Getting-OCMock-to-play-nicely-with-XCode-5/addbuildphase1.png alt="Adding a build phase"></p><p>Next select the framework to add to the new phase.</p><p><img loading=lazy src=/assets/images/2013-11-17-Getting-OCMock-to-play-nicely-with-XCode-5/addbuildphase2.png alt="Selecting the framework"></p><p>The target should look like this:</p><p><img loading=lazy src=/assets/images/2013-11-17-Getting-OCMock-to-play-nicely-with-XCode-5/addbuildphase3.png alt="New build target"></p><p>Again, the important points are:</p><ul><li><em>Destination</em> is <em>Products Directory</em></li><li><em>Subpath</em> is empty</li><li><em>Copy only when installing</em> is not checked</li></ul><p>Finally, I moved the new phase run directly after compile. Running the tests
now works.</p><h3 id=what-i-have-learned>What I Have Learned<a hidden class=anchor aria-hidden=true href=#what-i-have-learned>#</a></h3><ul><li>I can use the XCode build system now! (It&rsquo;s more horrible than I imagined.)</li><li>The build system for XCode 5 is still broken</li><li>There&rsquo;s an interesting tool called <a href=http://cocoapods.org/>cocoapods</a>
which looks interesting, but I couldn&rsquo;t make it work</li></ul></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://tomregan.github.io/>tomregan.github.io</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>