<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Building an Eclipse Plugin with Tycho | tomregan.github.io</title>
<meta name=keywords content><meta name=description content="I spent a couple of days this week converting the build of an Eclipse plugin project from Ant with Ivy to Maven using the Tycho plugins. I&rsquo;ll demonstrate the build with an example project.
First off I already have the following pre-requisites:
Eclipse 4.2 Eclipse PDE Maven 3 Create a plugin project in Eclipse I created the following:
a plugin, with some simple functionality a feature project (features are just groupings of related plugins) an update site, which acts as a distributable package Each project is a necessary part of the build: the site contains a feature, and the feature contains one or more plugins."><meta name=author content><link rel=canonical href=https://tomregan.github.io/posts/building-an-eclipse-plugin-with-tycho/><link crossorigin=anonymous href=/assets/css/stylesheet.2d57c2ec5c1393c947086a457dd198f941b9476b45ce2a2405529f16729999ae.css integrity="sha256-LVfC7FwTk8lHCGpFfdGY+UG5R2tFziokBVKfFnKZma4=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://tomregan.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tomregan.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tomregan.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tomregan.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tomregan.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://tomregan.github.io/posts/building-an-eclipse-plugin-with-tycho/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Building an Eclipse Plugin with Tycho"><meta property="og:description" content="I spent a couple of days this week converting the build of an Eclipse plugin project from Ant with Ivy to Maven using the Tycho plugins. I&rsquo;ll demonstrate the build with an example project.
First off I already have the following pre-requisites:
Eclipse 4.2 Eclipse PDE Maven 3 Create a plugin project in Eclipse I created the following:
a plugin, with some simple functionality a feature project (features are just groupings of related plugins) an update site, which acts as a distributable package Each project is a necessary part of the build: the site contains a feature, and the feature contains one or more plugins."><meta property="og:type" content="article"><meta property="og:url" content="https://tomregan.github.io/posts/building-an-eclipse-plugin-with-tycho/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2012-09-02T00:00:00+00:00"><meta property="article:modified_time" content="2012-09-02T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Building an Eclipse Plugin with Tycho"><meta name=twitter:description content="I spent a couple of days this week converting the build of an Eclipse plugin project from Ant with Ivy to Maven using the Tycho plugins. I&rsquo;ll demonstrate the build with an example project.
First off I already have the following pre-requisites:
Eclipse 4.2 Eclipse PDE Maven 3 Create a plugin project in Eclipse I created the following:
a plugin, with some simple functionality a feature project (features are just groupings of related plugins) an update site, which acts as a distributable package Each project is a necessary part of the build: the site contains a feature, and the feature contains one or more plugins."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tomregan.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Building an Eclipse Plugin with Tycho","item":"https://tomregan.github.io/posts/building-an-eclipse-plugin-with-tycho/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Building an Eclipse Plugin with Tycho","name":"Building an Eclipse Plugin with Tycho","description":"I spent a couple of days this week converting the build of an Eclipse plugin project from Ant with Ivy to Maven using the Tycho plugins. I\u0026rsquo;ll demonstrate the build with an example project.\nFirst off I already have the following pre-requisites:\nEclipse 4.2 Eclipse PDE Maven 3 Create a plugin project in Eclipse I created the following:\na plugin, with some simple functionality a feature project (features are just groupings of related plugins) an update site, which acts as a distributable package Each project is a necessary part of the build: the site contains a feature, and the feature contains one or more plugins.","keywords":[],"articleBody":"I spent a couple of days this week converting the build of an Eclipse plugin project from Ant with Ivy to Maven using the Tycho plugins. I’ll demonstrate the build with an example project.\nFirst off I already have the following pre-requisites:\nEclipse 4.2 Eclipse PDE Maven 3 Create a plugin project in Eclipse I created the following:\na plugin, with some simple functionality a feature project (features are just groupings of related plugins) an update site, which acts as a distributable package Each project is a necessary part of the build: the site contains a feature, and the feature contains one or more plugins. That’s just how Eclipse likes it.\nWithout any further ado…\nCreate a plugin File -\u003e New -\u003e Plug-in project\nI created a new plug-in project called com.example.plugin, and selected the ‘Hello, World Command’ template. I’ve got two points to make about this:\nDoes anyone really say ‘Hello, World’ (with the comma)? Whenever I read this it sounds like the beginning of a halting Shatnarian monologue\nThe version qualifier. DO NOT ALTER it. DO NOT! DO… NOT!\nThe version the plug-in wizard will assign to a new plugin is ‘1.0.0.qualifier’. It’s important to know that ‘.qualifier’ is a token that is replaced during the build with a timestamp (or a version scheme of your choosing, if you’re patient and like a challenge).\nYou can fire up the project from Eclipse; it works off the bat, and it isn’t so exciting that you’ll forget to carry on reading.\n###Create a feature\nFile -\u003e New -\u003e Feature project\nI called mine com.example.feature.\nAfter clicking ‘Next’ I can select ‘Initialize from the plug-ins list’ and check the entry ‘com.example.plugin (1.0.0.qualifier)’ to include it in my feature.\n###Create a category definition\nFinally, so I can install my plugin, I created a category. I created an empty general project called com.example.site, and created a new category definition within it.\nFile -\u003e New -\u003e Project\nFile -\u003e New -\u003e Other -\u003e Plug-in Development -\u003e Category Definition\nFinally, I go to the category.xml and open up Eclipse’s spiffy Category Manifest Editor, and add a ‘New Category’, which I called com.example.category (because I was bored of guessing what I ought to call Eclipse components), and under it added com.example.feature.\nYou can get the example project here.\nThe time has come to Mavenise Don’t hold back.\nI haven’t used Maven 3 before, but it was cheerfully simple to write the build.\nI found that if you try to use a version range to specify the Tycho dependencies, rather than a property (I used tycho-version), the build will explode into a bazillion lines of backtrace.\nThis is a regular modular Maven project. The parent pom looks like this:\nEach module’s pom looks roughly the same. The packaging and artifactId elements must be changed. I also altered the name. The plugin pom.xml:\nThe feature pom.xml:\nAnd the update site pom.xml:\nNow, running mvn clean package results in the warm Maven feeling:\n[INFO] ------------------------------------------------------------------------ [INFO] Reactor Summary: [INFO] [INFO] parentpom ......................................... SUCCESS [0.060s] [INFO] TychoExamplePlugin ................................ SUCCESS [1.042s] [INFO] TychoExampleFeature ............................... SUCCESS [0.381s] [INFO] TychoExampleRepository ............................ SUCCESS [2.072s] [INFO] ------------------------------------------------------------------------ [INFO] BUILD SUCCESS [INFO] ------------------------------------------------------------------------ [INFO] Total time: 15.726s [INFO] Finished at: Sun Sep 02 12:57:41 BST 2012 [INFO] Final Memory: 35M/81M [INFO] ------------------------------------------------------------------------ Verily, woot.\n###More to do\nI’ve read a bunch of documentation and failed so far to get simple things like versioning, deployment to a Maven repository, and unit tests working. I’ll follow up if these things ever materialise, meanwhile, here are some links:\nTesting with Tycho Versioning the build, and a discussion which touches on the nuances of versioning a build. ","wordCount":"607","inLanguage":"en","datePublished":"2012-09-02T00:00:00Z","dateModified":"2012-09-02T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://tomregan.github.io/posts/building-an-eclipse-plugin-with-tycho/"},"publisher":{"@type":"Organization","name":"tomregan.github.io","logo":{"@type":"ImageObject","url":"https://tomregan.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tomregan.github.io/ accesskey=h title="tomregan.github.io (Alt + H)">tomregan.github.io</a><div class=logo-switches><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://tomregan.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://tomregan.github.io/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://tomregan.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://tomregan.github.io/posts/>Posts</a></div><h1 class=post-title>Building an Eclipse Plugin with Tycho</h1><div class=post-meta>&lt;span title='2012-09-02 00:00:00 +0000 UTC'>September 2, 2012&lt;/span>&amp;nbsp;·&amp;nbsp;3 min&amp;nbsp;·&amp;nbsp;607 words</div></header><div class=post-content><p>I spent a couple of days this week converting the build of an Eclipse
plugin project from Ant with Ivy to Maven using the Tycho plugins.
I&rsquo;ll demonstrate the build with an example project.</p><p>First off I already have the following pre-requisites:</p><ul><li>Eclipse 4.2</li><li>Eclipse <a href=http://www.eclipse.org/pde/>PDE</a></li><li>Maven 3</li></ul><h3 id=create-a-plugin-project-in-eclipse>Create a plugin project in Eclipse<a hidden class=anchor aria-hidden=true href=#create-a-plugin-project-in-eclipse>#</a></h3><p>I created the following:</p><ul><li>a plugin, with some simple functionality</li><li>a feature project (features are just <a href="https://www.google.co.uk/search?q=what+is+an+eclipse+feature&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-GB:official&amp;client=firefox-a&amp;channel=fflb#hl=en&amp;client=firefox-a&amp;hs=UnU&amp;rls=org.mozilla:en-GB:official&amp;channel=fflb&amp;q=eclipse+feature&amp;tbs=dfn:1&amp;tbo=u&amp;sa=X&amp;ei=tUpDUIT6Coqp0QWR4oCQAw&amp;ved=0CCAQkQ4&amp;bav=on.2,or.r_gc.r_pw.r_qf.&amp;fp=b566ea27a82450a4&amp;biw=1440&amp;bih=787">groupings of related plugins</a>)</li><li>an update site, which acts as a distributable package</li></ul><p>Each project is a necessary part of the build: the site contains a feature,
and the feature contains one or more plugins. That&rsquo;s just how Eclipse
likes it.</p><p><img loading=lazy src=http://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Russian_Dolls.jpg/800px-Russian_Dolls.jpg alt></p><p>Without any further ado&mldr;</p><h3 id=create-a-plugin>Create a plugin<a hidden class=anchor aria-hidden=true href=#create-a-plugin>#</a></h3><p><code>File -> New -> Plug-in project</code></p><p>I created a new plug-in project called com.example.plugin, and selected
the &lsquo;Hello, World Command&rsquo; template. I&rsquo;ve got two points to make about this:</p><ol><li><p>Does anyone really say &lsquo;Hello, World&rsquo; (with the comma)? Whenever
I read this it sounds like the beginning of a
<a href="http://www.youtube.com/watch?v=HiFEzc_gsuw">halting Shatnarian monologue</a></p></li><li><p>The version qualifier. DO NOT ALTER it. DO NOT! DO&mldr; NOT!</p></li></ol><p>The version the plug-in wizard will assign to a new plugin is
&lsquo;1.0.0.qualifier&rsquo;. It&rsquo;s important to know that &lsquo;.qualifier&rsquo; is a
token that is replaced during the build with a timestamp (or a version
scheme of your choosing, if you&rsquo;re patient and like a challenge).</p><p>You can fire up the project from Eclipse; it works off the bat,
and it isn&rsquo;t so exciting that you&rsquo;ll forget to carry on reading.</p><p>###Create a feature</p><p><code>File -> New -> Feature project</code></p><p>I called mine com.example.feature.</p><p>After clicking &lsquo;Next&rsquo; I can select &lsquo;Initialize from the plug-ins list&rsquo;
and check the entry &lsquo;com.example.plugin (1.0.0.qualifier)&rsquo; to include
it in my feature.</p><p>###Create a category definition</p><p>Finally, so I can install my plugin, I created a category. I created
an empty general project called com.example.site, and created a new
category definition within it.</p><p><code>File -> New -> Project</code></p><p><code>File -> New -> Other -> Plug-in Development -> Category Definition</code></p><p>Finally, I go to the <code>category.xml</code> and open up Eclipse&rsquo;s spiffy
Category Manifest Editor, and add a &lsquo;New Category&rsquo;, which I called
com.example.category (because I was bored of guessing what I ought to
call Eclipse components), and under it added com.example.feature.</p><p>You can get the example project <a href=downloads/code/TychoExampleFeature.tar.gz>here</a>.</p><h3 id=the-time-has-come-to-mavenise>The time has come to Mavenise<a hidden class=anchor aria-hidden=true href=#the-time-has-come-to-mavenise>#</a></h3><p><em><a href="http://www.youtube.com/watch?v=Xu3FTEmN-eg">Don&rsquo;t hold back</a></em>.</p><p>I haven&rsquo;t used Maven 3 before, but it was cheerfully simple
to write the build.</p><p>I found that if you try to use a version range to specify the Tycho
dependencies, rather than a property (I used <code>tycho-version</code>), the
build will explode into a bazillion lines of backtrace.</p><p>This is a regular modular Maven project. The parent pom looks like
this:</p><p>Each module&rsquo;s pom looks roughly the same. The packaging and artifactId
elements must be changed. I also altered the name. The plugin <code>pom.xml</code>:</p><p>The feature <code>pom.xml</code>:</p><p>And the update site <code>pom.xml</code>:</p><p>Now, running <code>mvn clean package</code> results in the warm Maven feeling:</p><pre><code>[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] parentpom ......................................... SUCCESS [0.060s]
[INFO] TychoExamplePlugin ................................ SUCCESS [1.042s]
[INFO] TychoExampleFeature ............................... SUCCESS [0.381s]
[INFO] TychoExampleRepository ............................ SUCCESS [2.072s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 15.726s
[INFO] Finished at: Sun Sep 02 12:57:41 BST 2012
[INFO] Final Memory: 35M/81M
[INFO] ------------------------------------------------------------------------
</code></pre><p><em>Verily, woot</em>.</p><p>###More to do</p><p>I&rsquo;ve read a bunch of documentation and failed so far to get simple things
like versioning, deployment to a Maven repository, and
unit tests working. I&rsquo;ll follow up if these things ever materialise,
meanwhile, here are some links:</p><ul><li><a href=http://wiki.eclipse.org/Tycho/Packaging_Types#eclipse-test-plugin>Testing with Tycho</a></li><li><a href=http://www.eclipse.org/tycho/sitedocs/tycho-packaging-plugin/build-qualifier-mojo.html>Versioning the build</a>,
and a <a href=http://software.2206966.n2.nabble.com/Tycho-and-feature-versioning-td3651356.html>discussion which touches on the nuances of versioning a build</a>.</li></ul></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://tomregan.github.io/>tomregan.github.io</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>