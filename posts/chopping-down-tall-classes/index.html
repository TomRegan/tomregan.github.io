<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Chopping Down Tall Classes | tomregan.github.io</title>
<meta name=keywords content><meta name=description content="I&rsquo;ve been having bags of fun today trying to get to grips with an enormously busy class. The carbuncle of code is basically a data structure that contains a tree of values loaded from a plain-text configuration file. To keep it from being too simple and boring, somebody decided you should be able to pass it an instance of our application, and have it call lots of configuration methods on it for you."><meta name=author content><link rel=canonical href=https://tomregan.github.io/posts/chopping-down-tall-classes/><link crossorigin=anonymous href=/assets/css/stylesheet.2d57c2ec5c1393c947086a457dd198f941b9476b45ce2a2405529f16729999ae.css integrity="sha256-LVfC7FwTk8lHCGpFfdGY+UG5R2tFziokBVKfFnKZma4=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://tomregan.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tomregan.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tomregan.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tomregan.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tomregan.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://tomregan.github.io/posts/chopping-down-tall-classes/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Chopping Down Tall Classes"><meta property="og:description" content="I&rsquo;ve been having bags of fun today trying to get to grips with an enormously busy class. The carbuncle of code is basically a data structure that contains a tree of values loaded from a plain-text configuration file. To keep it from being too simple and boring, somebody decided you should be able to pass it an instance of our application, and have it call lots of configuration methods on it for you."><meta property="og:type" content="article"><meta property="og:url" content="https://tomregan.github.io/posts/chopping-down-tall-classes/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-08-12T00:00:00+00:00"><meta property="article:modified_time" content="2013-08-12T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Chopping Down Tall Classes"><meta name=twitter:description content="I&rsquo;ve been having bags of fun today trying to get to grips with an enormously busy class. The carbuncle of code is basically a data structure that contains a tree of values loaded from a plain-text configuration file. To keep it from being too simple and boring, somebody decided you should be able to pass it an instance of our application, and have it call lots of configuration methods on it for you."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tomregan.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Chopping Down Tall Classes","item":"https://tomregan.github.io/posts/chopping-down-tall-classes/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Chopping Down Tall Classes","name":"Chopping Down Tall Classes","description":"I\u0026rsquo;ve been having bags of fun today trying to get to grips with an enormously busy class. The carbuncle of code is basically a data structure that contains a tree of values loaded from a plain-text configuration file. To keep it from being too simple and boring, somebody decided you should be able to pass it an instance of our application, and have it call lots of configuration methods on it for you.","keywords":[],"articleBody":"I’ve been having bags of fun today trying to get to grips with an enormously busy class. The carbuncle of code is basically a data structure that contains a tree of values loaded from a plain-text configuration file. To keep it from being too simple and boring, somebody decided you should be able to pass it an instance of our application, and have it call lots of configuration methods on it for you.\nhttp://www.tumblr.com/photo/1280/explodingdog/1359175167/1/tumblr_lalh5m7hw51qzs63f\"/ style=“width: 50%”/\u003e\nWhat I actually want it to do is to expose a public API, so we can let our customers, you know, use it to configure their application. The quickest way I reckon on doing this is through interface segregation.\nMy public interface is a small bunch of accessors that return the parsed configuration values. The existing class is extended to implement my interface, so I can return an instance of it without users having to understand all of its quirky behaviour.\n{% highlight java %} public interface UserFriendlyConfiguration { /** * That thing you’re so interested in. This is that thing. * @param option That option you want. * @return That thing you’re interested in. */ public String getInterestingValue(String option); }\npublic class BigConfigurationClass implements UserFriendlyConfiguration { private StuffBag stuff; public void configureAllTheThings(DistantRelation ohaiNotExpectinYou) { // good luck decoupling this }\n// lines and lines and lines @Override public String getInterestingValue(String option) { return stuff.get(option); } }\npublic class Application { private BigConfigurationClass configuration; public UserFriendlyConfiguration getConfiguration() { return configuration; } } {% endhighlight %}\nAnd yes, my documentation really is that good.\nI gave some thought to creating a wrapper class to achieve more or less the same thing, but I like the minimalism of the interface approach. It’s pretty compelling because it’s about the least complex way of changing the code while still meeting our goals, and it means I can spend more time chopping the über class down into single responsibility objects, for which I’m sure someone will someday thank me.\n","wordCount":"331","inLanguage":"en","datePublished":"2013-08-12T00:00:00Z","dateModified":"2013-08-12T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://tomregan.github.io/posts/chopping-down-tall-classes/"},"publisher":{"@type":"Organization","name":"tomregan.github.io","logo":{"@type":"ImageObject","url":"https://tomregan.github.io/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tomregan.github.io/ accesskey=h title="tomregan.github.io (Alt + H)">tomregan.github.io</a><div class=logo-switches><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://tomregan.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://tomregan.github.io/categories/ title=Categories><span>Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://tomregan.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://tomregan.github.io/posts/>Posts</a></div><h1 class=post-title>Chopping Down Tall Classes</h1><div class=post-meta>&lt;span title='2013-08-12 00:00:00 +0000 UTC'>August 12, 2013&lt;/span>&amp;nbsp;·&amp;nbsp;2 min&amp;nbsp;·&amp;nbsp;331 words</div></header><div class=post-content><p>I&rsquo;ve been having bags of fun today trying to get to grips with an
enormously busy class. The carbuncle of code is basically a
data structure that contains a tree of values loaded from a
plain-text configuration file. To keep it from being too simple and
boring, somebody decided you should be able to pass it an instance
of our application, and have it call lots of configuration methods
on it for you.</p><p>&lt;img src=&ldquo;<a href=http://www.tumblr.com/photo/1280/explodingdog/1359175167/1/tumblr_lalh5m7hw51qzs63f%22/>http://www.tumblr.com/photo/1280/explodingdog/1359175167/1/tumblr_lalh5m7hw51qzs63f"/</a> style=&ldquo;width: 50%&rdquo;/></p><p>What I actually want it to do is to expose a public API, so we can
let our customers, you know, use it to configure their application. The
quickest way I reckon on doing this is through <a href=https://en.wikipedia.org/wiki/Interface_segregation_principle>interface segregation</a>.</p><img src=http://www.explodingdog.com/drawing/myrobotgarden.gif style=width:50%><p>My public interface is a small bunch of accessors that return
the parsed configuration values. The existing class is extended
to implement my interface, so I can return an instance of it
without users having to understand all of its quirky behaviour.</p><p>{% highlight java %}
public interface UserFriendlyConfiguration {
/**
* That thing you&rsquo;re so interested in. This is that thing.
* @param option That option you want.
* @return That thing you&rsquo;re interested in.
*/
public String getInterestingValue(String option);
}</p><p>public class BigConfigurationClass implements UserFriendlyConfiguration {
private StuffBag<stuff> stuff;
public void configureAllTheThings(DistantRelation ohaiNotExpectinYou) {
// good luck decoupling this
}</p><pre><code>// lines and lines and lines

@Override
public String getInterestingValue(String option) {
    return stuff.get(option);
}
</code></pre><p>}</p><p>public class Application {
private BigConfigurationClass configuration;
public UserFriendlyConfiguration getConfiguration() {
return configuration;
}
}
{% endhighlight %}</p><p><em>And yes, my documentation</em> really <em>is that good.</em></p><p>I gave some thought to creating a wrapper class to achieve more or less the
same thing, but I like the minimalism of the interface approach. It&rsquo;s
pretty compelling because it&rsquo;s about the least complex way of changing
the code while still meeting our goals, and it means I can spend more time
chopping the über class down into single responsibility objects, for
which I&rsquo;m sure someone will someday thank me.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://tomregan.github.io/>tomregan.github.io</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>